% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/logRankTest.R
\name{designSafeLogrank}
\alias{designSafeLogrank}
\title{Designs a Safe Logrank Test}
\usage{
designSafeLogrank(
  hrMin = NULL,
  beta = NULL,
  nEvents = NULL,
  h0 = 1,
  alternative = c("two.sided", "greater", "less"),
  alpha = 0.05,
  ratio = 1,
  zApprox = TRUE,
  tol = 1e-05,
  ...
)
}
\arguments{
\item{hrMin}{numeric that defines the minimal relevant hazard ratio, the smallest hazard ratio that we want to
detect.}

\item{beta}{numeric in (0, 1) that specifies the tolerable type II error control necessary to calculate both "n"
and "phiS". Note that 1-beta defines the power.}

\item{nEvents}{numeric > 0, targetted number of events.}

\item{h0}{numeric > 0, represents the null hypothesis, default h0=1.}

\item{alternative}{The null hypothesis of equality of the survival distribution of y in the groups defined by x is
tested. When alternative is "two.sided" the null hypothesis theta = h0, where theta = lambda2/lambda1 is the
hazard ratio, and compared to theta != h0. If alternative = "less", the null hypothesis is compared to
theta <= h0. For h0=1 the alternative specifies that survival in population 1 is higher than in population 2.
When alternative = "greater", the null hypothesis is compared to the alternative theta >= h0. For h0=1 the
alternative specifies that survival in population 2 is higher than in population 1.}

\item{alpha}{numeric in (0, 1) that specifies the tolerable type I error control --independent on n-- that the
designed test has to adhere to. Note that it also defines the rejection rule e10 > 1/alpha.}

\item{ratio}{numeric > 0 representing the randomisation ratio of condition 2 over condition 1. If the design is
based on nPlan, then ratio equals \code{nPlan[2]/nPlan[1]}.}

\item{zApprox}{logical, default TRUE to use the asymptotic normality results.}

\item{tol}{a number that defines the stepsizes between the lowParam and highParam.}

\item{...}{further arguments to be passed to or from methods.}
}
\value{
Returns a safeDesign object that includes:

\describe{
  \item{nEvents}{the anticipated number of events, either (1) specified by the user, or
  (2) computed based on beta and thetaMin.}
  \item{parameter}{the parameter that defines the safe test. Here log(thetaS).}
  \item{esMin}{the minimally clinically relevant hazard ratio specified by the user.}
  \item{alpha}{the tolerable type I error provided by the user.}
  \item{beta}{the tolerable type II error provided by the user.}
  \item{alternative}{any of "two.sided", "greater", "less" provided by the user.}
  \item{testType}{"logrank".}
  \item{ratio}{default is 1. It defines the ratio between the planned randomisation of
  condition 2 over condition 1.}
  \item{pilot}{\code{FALSE} to indicate that the design is not a pilot study.}
  \item{call}{the expression with which this function is called.}
}
}
\description{
A designed experiment requires (1) an anticipated number of events nEvents, or even better nPlan, the number of
recruited participants of the study, and (2) the parameter of the safe test, i.e., log(thetaS). If nEvents is
provided, then only the safe test defining parameter log(thetaS) needs to determined. That resulting log(thetaS)
leads to an (approximately) most powerful safe test. Typically, nEvents is unknown and the user has to specify
(i) a tolerable type II error beta, and (b) a clinically relevant minimal hazard ratio hrMin. The procedure finds
the smallest nEvents for which hrMin is found with power of at least 1 - beta. The computations exploit the
asymptotic normal chracterisation of the sampling distribution of the logrank test derived by Schoenfeld (1981).
}
\examples{
designSafeLogrank(nEvents=89)
designSafeLogrank(hrMin=0.4, beta=0.05)
designSafeLogrank(hrMin=0.4)
}
